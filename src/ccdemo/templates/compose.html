{% extends "base.html" %}

{% block title %}Compose SMS - SMS Application{% endblock %}

{% block content %}
<div class="compose">
    <h1>Compose SMS</h1>
    <form method="POST" class="compose-form">
        <div class="form-group">
            <label for="recipients">Recipients</label>
            <textarea
                id="recipients"
                name="recipients"
                rows="4"
                required
                placeholder="Enter phone numbers (one per line or separated by commas)&#10;Example:&#10;85212345678&#10;85287654321"
            >{{ recipients }}</textarea>
            <small>Separate multiple numbers with commas or new lines. Format: 852xxxxxxxx</small>
        </div>
        <div class="form-group">
            <label for="content">Message</label>
            <textarea
                id="content"
                name="content"
                rows="4"
                required
                placeholder="Enter your message here..."
            >{{ content }}</textarea>
            <small id="char-count">0 characters</small>
        </div>
        <div class="form-actions">
            <button type="submit" class="btn btn-primary">Send SMS</button>
            <a href="{{ url_for('web.dashboard') }}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>

<script>
    const contentTextarea = document.getElementById('content');
    const charCount = document.getElementById('char-count');

    contentTextarea.addEventListener('input', function() {
        charCount.textContent = this.value.length + ' characters';
    });
</script>
{% endblock %}
